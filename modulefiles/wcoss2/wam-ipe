#%Module######################################################################
##
##    WAM-IPE Dependencies for WCOSS2

proc ModulesHelp {} {
  puts stderr "\tcit - loads modules required for building WAM-IPE on WCOSS2"
}

module-whatis "loads GSMWAM-IPE prerequisites on WCOSS2"

# NOTE: the "module purge" and loading of the module command are
# handled by the module-setup.sh (or .csh) script.

##
## load programming environment
## this typically includes compiler, MPI and job scheduler
##

module load PrgEnv-intel/$env(PrgEnv_intel_ver)
module load craype/$env(craype_ver)
module load intel/$env(intel_ver)
module load cray-mpich/$env(cray_mpich_ver)
module load cray-libsci/$env(cray_libsci_ver)
module load cray-pals/$env(cray_pals_ver)

module load netcdf/$env(netcdf_ver)
module load esmf/$env(esmf_ver)
module load nemsio/$env(nemsio_ver)
module load hdf5/$env(hdf5_ver)
module load pnetcdf/$env(pnetcdf_ver)
module load sp/$env(sp_ver)

# comio load occurs out of $HOMEwfs/modulefiles and is implicitly specified
# by build.ver as the version of COMIO that is checked out comes from build.ver.
module use ../../../modulefiles
module load comio

##
## set recommended Fortran compiler flags
##
setenv FCFLAGS "-O2 -fp-model precise -ftz -fast-transcendentals -no-prec-div -no-prec-sqrt -align array64byte -align sequence"
